<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group 8">

<title>E-Commerce Database Management System Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Group_8_files/libs/clipboard/clipboard.min.js"></script>
<script src="Group_8_files/libs/quarto-html/quarto.js"></script>
<script src="Group_8_files/libs/quarto-html/popper.min.js"></script>
<script src="Group_8_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Group_8_files/libs/quarto-html/anchor.min.js"></script>
<link href="Group_8_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Group_8_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Group_8_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Group_8_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Group_8_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">E-Commerce Database Management System Project</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group 8 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><strong>Load Necessary Libraries</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>
This project simulates a real-world e-commerce data environment, including all stages of data management, from database configuration to data analysis and reporting. The database is created and managed with SQLite while GitHub Actions are used to automate processes enhancing workflow efficiency. In addition, Quarto is used in conjunction with R to conduct comprehensive data analysis and generate reports. Through this approach, technical skills and competencies necessary for effective data management are examined in-depth, mirroring the complexities and dynamics encountered in e-commerce.
</p>
</section>
<section id="database-design-and-implementation" class="level1">
<h1>Database Design and Implementation</h1>
<section id="entity-relationship-diagram" class="level2">
<h2 class="anchored" data-anchor-id="entity-relationship-diagram">Entity Relationship Diagram</h2>
<p>
<strong>Figure 1</strong> shows the E-R diagram that simulates a real-world e-commerce data ecosystem, capturing the detailed relationships between entities and attributes essential for facilitating online transactions. In addition, it provides a comprehensive view of the e-commerce system, which serves as a platform for users to browse products, make purchases, and securely complete their payments.
</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/ERD.png" title="Figure 1- Entity Relationship Diagram" class="img-fluid figure-img"></p>
<figcaption>Figure 1: E-Commerce Entity Relationship Diagram</figcaption>
</figure>
</div>
<section id="assumptions" class="level3">
<h3 class="anchored" data-anchor-id="assumptions">Assumptions</h3>
<ul>
<li><p>The company only distributes products within the United Kingdom (UK).</p></li>
<li><p>The Currency used is Pound Sterling (GBP).</p></li>
<li><p>Attributes formats will be aligned with UK standard formats such as date , addresses , names …etc</p></li>
</ul>
</section>
<section id="entities-and-attributes" class="level3">
<h3 class="anchored" data-anchor-id="entities-and-attributes">Entities and Attributes</h3>
<p>This section describes and illustrates the entities in the above ERD and their respective attributes.</p>
<ul>
<li>Customer</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Shows us the users who have placed orders in the past. Attributes include name , email, phone number and address of the customer.</p>
<ul>
<li>Supplier</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Vendors who supply products.This entity contains attributes of names, addresses, emails and status of whether the supplier is currently supplying product or not (Active/Inactive).</p>
<ul>
<li>Product</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Describes all products in the stock and available for sale. Attributes include name, price, and availability of the products.</p>
<ul>
<li>Order Details</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Emphasises all details related to placed orders. Some of its attributes includes billing and shipping addresses, type and status of payment, date and status of the order.</p>
<ul>
<li>Category and Sub-Category</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Category is the broad classification of products that share common features or are intended for a similar purpose. A sub-category is a more specific grouping of products within a category based on finer distinctions or attributes.</p>
<ul>
<li>Product Discounts</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;The voucher number or offer code to be applied to eligible products. The amount of discount it offers as well as the status of the discount are the attributes included.</p>
<ul>
<li>Reviews</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Contains Written comments and rating of product bought by customers, the likes recieved as well as the time stamp of when the review was written.</p>
</section>
</section>
<section id="design-considerations" class="level2">
<h2 class="anchored" data-anchor-id="design-considerations">Design Considerations</h2>
<section id="absence-of-an-order-entity" class="level3">
<h3 class="anchored" data-anchor-id="absence-of-an-order-entity">Absence of an Order Entity</h3>
<p>
</p><p>The model intentionally skips direct order management. Instead, it focuses on product management and customer interactions through reviews and payment methods.</p>
<p>
Order Entity not considered in this ER design in order to follow best practices by not having to include orderId as part of product table which might affect the overall performance of DB retrieval.
</p>
</section>
</section>
<section id="relationships-and-cardinalities" class="level2">
<h2 class="anchored" data-anchor-id="relationships-and-cardinalities">Relationships and Cardinalities</h2>
<section id="order-detail-contains-products" class="level3">
<h3 class="anchored" data-anchor-id="order-detail-contains-products">Order Detail Contains Products</h3>
<p>
This relation as can be seen in <strong>Figure 2</strong> indicates that each order detail contains multiple products that have been bought by the customer.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Order_Details_Contains_Products.png" title="Figure 2 - OrderDetails Contains Products" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 2: Order Details Contains Products</figcaption>
</figure>
</div>
<p></p>
<p><strong>Associative Attribute</strong> (Quantity: The number of units of the product ordered in this line item.)</p>
</section>
<section id="customer-has-order-details" class="level3">
<h3 class="anchored" data-anchor-id="customer-has-order-details">Customer Has Order Details</h3>
<p>
This relation will be created when customers orders one or more products. They will be linked with a particular order detail indicating the order status throughout the process. One customer can be associated with multiple order details at any given time as illustrated in <strong>Figure 3</strong>. Moreover, it aids in tracking an order’s life cycle, allowing for updates, customer notifications, and management of the order fulfillment process.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Cust_Has_OrderDetails.png" title="Figure 3 - Customer Has Order Details" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 3: Customer Has Order Details</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="product-belongs-to-category" class="level3">
<h3 class="anchored" data-anchor-id="product-belongs-to-category">Product Belongs to Category</h3>
<p><strong>Figure 4</strong> specify that each product is classified under a specific Category where products can belong to only one category. This enables customers to browse products by category and helps retailers manage product listings more efficiently.</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Product_BelongTo_Cat.png" title="Figure 4 - Product Belong to Category" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 4: Product Belong to Category</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="category-self-reference-relation" class="level3">
<h3 class="anchored" data-anchor-id="category-self-reference-relation">Category Self-Reference Relation</h3>
<p>
As reflected in <strong>Figure 5</strong>, category can have multiple subcategories. For example, “Home Appliances” is the parent category containing subcategories like Washing Machines, Food Processors, Dishwashers etc.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Cat_Has_SubCat.png" title="Figure 5 - Category Has Sub-Category" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 5: Category Has Sub-Categories</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="product-supplied-by-supplier" class="level3">
<h3 class="anchored" data-anchor-id="product-supplied-by-supplier">Product Supplied By Supplier</h3>
<p>
This relation is important for inventory management, reflecting the real-world scenario where a single supplier might provide various products, but each product is supplied by only one specific supplier <strong>Figure 6</strong>. The relation helps track inventory sources, manage supplier relationships, and ensure product availability.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Products_SuppliedBy_Supplier.png" title="Figure 6 - Products Supplied By Supplier" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 6: Products Supplied By Supplier</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="product-qualifies-for-discount" class="level3">
<h3 class="anchored" data-anchor-id="product-qualifies-for-discount">Product Qualifies For Discount</h3>
<p>
This relation signifies that a product can be eligible for a promotional discount. In this context and for simplicity the relation representing one discount code or voucher that is valid to apply on multiple eligible products <strong>Figure 7</strong>.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Product_Qualify_Discount.png" title="Figure 7 - Product Qualifies For Discount" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 7: Product Qualifies For Discount</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="product-has-reviews" class="level3">
<h3 class="anchored" data-anchor-id="product-has-reviews">Product Has Reviews</h3>
<p>A product’s reviews are provided by Customers reflecting feedback or evaluation for a specific product or service. One product can have multiple reviews over time as shown in <strong>Figure 8</strong>.</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Product_Has_Reviews.png" title="Figure 8 - Product Has Reviews" width="400" height="300" class="figure-img"></p>
<figcaption>Figure 8: Product Has Reviews</figcaption>
</figure>
</div>
<p></p>
</section>
</section>
<section id="logical-schema" class="level2">
<h2 class="anchored" data-anchor-id="logical-schema">Logical Schema</h2>
<p>The table below describes the logical schema of our E-commerce database. Italic attributes signify foreign keys.</p>
<p>
<img src="Images/logical_schema.png" width="590" height="500">
</p>
</section>
<section id="physical-schema-creation" class="level2">
<h2 class="anchored" data-anchor-id="physical-schema-creation">Physical Schema Creation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating the db schema in SQL</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">"ecommerce.db"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>sql_file <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">"dbScript.sql"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (sql_command <span class="cf">in</span> sql_file) {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (sql_command<span class="sc">!=</span><span class="st">""</span>){</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(sql_command)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con,sql_command)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"-------------DONE---------"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="normalisation" class="level2">
<h2 class="anchored" data-anchor-id="normalisation">Normalisation</h2>
<p>
The First Normal Form (1NF) mandates atomic values and unique rows via a primary key without duplicate columns. The tables were verified to meet these criteria. Second Normal Form (2NF) is achieved when a table in 1NF has all non-key attributes fully dependent on the primary key, thus avoiding partial dependencies on composite keys which has also been achieved. Finally, the team conducted thorough checks to ensure all tables comply with 3NF requirements, as detailed in subsequent sections.
</p>
<section id="customers" class="level3">
<h3 class="anchored" data-anchor-id="customers">Customers</h3>
<p>Looking at the table, we can identify the following dependencies:</p>
<p>
<img src="Images/Customers_Norm.png" width="200" height="200">
</p>
<ul>
<li>Based on this analysis, the table appears to be in 3NF. Each non-key attribute depends only on the primary key (Cust_ID), and there are no transitive dependencies.</li>
</ul>
</section>
<section id="order_items" class="level3">
<h3 class="anchored" data-anchor-id="order_items">Order_Items</h3>
<p>
<img src="Images/Order_Items_Norm.png" width="200" height="50">
</p>
<p>Product_ID and Order_ID combined are representing composite key, and Quantity is functionally dependent on Product_ID and Order_ID. There are no transitive dependencies here.</p>
</section>
<section id="order_details" class="level3">
<h3 class="anchored" data-anchor-id="order_details">Order_Details</h3>
<p>
<img src="Images/Order_details_Norm.png" width="200" height="250">
</p>
<p>
Given that Cust_ID is a foreign key in this table and that there is a separate Customers table where Cust_ID serves as the primary key, it suggests that Cust_ID is not functionally dependent on any other attribute within this table. It is merely referencing the primary key of another table.
</p>
<p>
Therefore, the dependency involving Cust_ID does not violate 3rd Normal Form (3NF). The table appears to be in 3NF as all other attributes are functionally dependent only on the primary key (Order_ID)
</p>
</section>
<section id="product-category" class="level3">
<h3 class="anchored" data-anchor-id="product-category">Product Category</h3>
<p>
<img src="Images/Product_cat_Norm.png" width="200" height="50">
</p>
<p>Category_ID is the primary key and it uniquely identifies Category_Name.</p>
</section>
<section id="discount" class="level3">
<h3 class="anchored" data-anchor-id="discount">Discount</h3>
<p>
<img src="Images/Discount_code_Norm.png" width="200" height="50">
</p>
<p>Analyzing the functional dependencies, it is found that Discount_Code is the primary key and it uniquely identifies Discount_Amount and Discount_Status. Each Discount_Code corresponds to a specific Discount_Amount and Discount_Status, ensuring that the table adheres to the principles of 3rd Normal Form (3NF). There are also no transitive dependencies or non-key attributes determining other attributes within the table.</p>
</section>
<section id="products" class="level3">
<h3 class="anchored" data-anchor-id="products">Products</h3>
<p>
<img src="Images/Products_Norm.png" width="200" height="200">
</p>
<p>The table also contains foreign keys, namely Supplier_ID, Discount_Code, and Category_ID. These foreign keys are merely referencing the primary key of their respective tables and are not functionally dependent on any other attribute within this table. Examining the non key attributes’ functional dependencies, Product_ID emerges as the primary key, in which Product_Name, Product_Price and Product_Availability appears to be functionally dependent on it.</p>
</section>
<section id="reviews" class="level3">
<h3 class="anchored" data-anchor-id="reviews">Reviews</h3>
<p>
<img src="Images/Reviews_Norm.png" width="200" height="100">
</p>
<p>In the Reviews table, Review_ID acts as the primary key, ensuring uniqueness. Attributes like Review_Timestamp, Product_Rating, Review_Text and Review_Likes are dependent on Review_ID.</p>
</section>
<section id="suppliers" class="level3">
<h3 class="anchored" data-anchor-id="suppliers">Suppliers</h3>
<p>
<img src="Images/Suppliers_Norm.png" width="200" height="200">
</p>
<p>In the Suppliers table, Supplier_ID acts as the primary key. Attributes such as Supplier_Name, Supplier_Building_Name, Supplier_Building_Number, Supplier_Street_Name, Supplier_Zip_Code, Supplier_Email and Supplier_Status are dependent on Supplier_ID.</p>
<p>
Given these functional dependencies where each attribute seems to be functionally dependent on the primary key, with no non-key attributes determining other, all tables appears to adhere to the principles of 3rd Normal Form (3NF).
</p>
</section>
</section>
</section>
<section id="data-generation-and-management" class="level1">
<h1>Data Generation and Management</h1>
<section id="synthetic-data-generation" class="level2">
<h2 class="anchored" data-anchor-id="synthetic-data-generation">Synthetic Data Generation</h2>
<p>After the agreement on the schema mentioned in the previous section, the team started to generate synthetic data that to some extent, imitated realistic e-commerce as much as possible.</p>
<p>ChatGPT has been used as the main tool for this step as an alternative to Mockaroo, as the former produces more structural and logical data than the latter. <strong>[Appendix 1,2]</strong>. For tables consisting of foreign keys, R code has been used for assignment based of logic set by the team <strong><a href="#appendix-3">Appendix 3</a></strong>.</p>
</section>
<section id="data-import-and-quality-assurance" class="level2">
<h2 class="anchored" data-anchor-id="data-import-and-quality-assurance">Data Import and Quality Assurance</h2>
<p>To enhance data quality for e-commerce analysis and validate the csv data generated, we use R to perform 4 main checks as shown in Figure 9 <strong>[Refer data_validate.R]</strong>:</p>
<ul>
<li>Primary key integrity check</li>
<li>Duplicate entry check</li>
<li>Email id pattern check</li>
<li>Phone number pattern check</li>
</ul>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/data_validate.png" title="Figure 9 - Data validation of CSV files" width="300" height="300" class="figure-img"></p>
<figcaption>Figure 9: Data validation of CSV files</figcaption>
</figure>
</div>
<p></p>
<p>
Once the data has gone through all the checks, the updated csv files will be used to import into SQL. Importing the data into SQL is also done in R <strong>[Refer data_update.R]</strong>. This method focused on refining datasets for accurate analysis by identifying and eliminating invalid entries and duplicates, thereby maintaining the dataset’s uniqueness and reliability before inserting into Data Base.
</p>
</section>
</section>
<section id="data-pipeline-generation" class="level1">
<h1>Data Pipeline Generation</h1>
<p>To efficiently collaborate on this assignment, we have uploaded the project to Github. This was done so that the team could track changes, follow progress, collaborate on bug fixes etc. Moving the project to Github also allowed for implementation of version control and continuous integration.</p>
<section id="github-repository-creation" class="level2">
<h2 class="anchored" data-anchor-id="github-repository-creation">Github Repository Creation</h2>
<p>
The pipeline generation process consists of two phases. In the first phase, github repository has been created<span class="math inline">\(^{[1]}\)</span> followed by integrating the posit cloud project. Additionally, all teams members have been added as collaborators.
</p>
</section>
<section id="automated-workflow" class="level2">
<h2 class="anchored" data-anchor-id="automated-workflow">Automated Workflow</h2>
<p>
Second phase was the automating our workflow. Using Github Workflows, we were able to automate the process of validating data, updating data and data analysis. The workflow is triggered on pushing new data to the project. Once all 3 steps are completed successfully, the new files are committed and pushed to the project. Figures 10, 11, 12, 13 show how the db and analyses carried out is automatically updated after a workflow run
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Workflow1.png" title="Figure 10 - Histogram of customers data for 49 records" width="450" height="300" class="figure-img"></p>
<figcaption>Figure 10: The histogram of Customer data for 50 records</figcaption>
</figure>
</div>
<p></p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Workflow2.png" title="Figure 11 Histogram after workflow run and inserted additional 100 records" width="450" height="300" class="figure-img"></p>
<figcaption>Figure 11: The histogram after workflow run and inserted additional 100 records</figcaption>
</figure>
</div>
<p></p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Console_Workflow.png" title="Figure 12 - Console Output" width="450" height="250" class="figure-img"></p>
<figcaption>Figure 12: Record count after data update using workflow</figcaption>
</figure>
</div>
<p></p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/WorkflowTimestamps.png" title="Figure 13 - Workflow Timestamps" width="400" height="200" class="figure-img"></p>
<figcaption>Figure 13: Workflow Timestamps as evidence of a successful workflow</figcaption>
</figure>
</div>
<p></p>
</section>
</section>
<section id="data-analysis-and-reporting-with-quarto-in-r" class="level1">
<h1>Data Analysis and Reporting with Quarto in R</h1>
<section id="distribution-of-product-ratings-from-0-to-5-coloured-by-category-name" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-product-ratings-from-0-to-5-coloured-by-category-name">Distribution of product ratings from 0 to 5 coloured by category name</h3>
<p>
Information regarding product ratings, sales revenue, customer distribution, and order status was obtained through the establishment of a connection to an SQLite database and the execution of SQL queries. Subsequently, data visualisation techniques were used to identify the distribution and patterns within the data, offering insights into e-commerce operational dimensions.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Product_Rating_By_Category.jpeg" title="Figure 14 - Distribution of Product Ratings by Category" width="450" height="450" class="figure-img"></p>
<figcaption>Figure 14: Distribution of Product Ratings by Category</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="top-5-products-sorted-by-total-revenue" class="level3">
<h3 class="anchored" data-anchor-id="top-5-products-sorted-by-total-revenue">Top 5 Products Sorted by total Revenue</h3>
<p>
After joining the “Order_Items”, “Discounts”, and “Products” tables, the derived value, which is the “Total Revenue”, is calculated by multiplying “Order_Item” quantity and “Product_Price” and deducting it with “Discount_Amount.
</p>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Top_5_Products_Revenue.png" title="Figure 15 - Top 5 Products by Revenue" width="450" height="450" class="figure-img"></p>
<figcaption>Figure 15: Top 5 Products by Revenue</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="distribution-of-customers-by-phone-country-codes" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-customers-by-phone-country-codes">Distribution of customers by phone country codes</h3>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Cust_Phone_Country_Code_Distribution.png" title="Figure 16- Distribution of Customers by Phone Country Code" width="400" height="400" class="figure-img"></p>
<figcaption>Figure 16: Distribution of Customers by Phone Country Code</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="order-status-count-of-shipped-processing-delivered-and-cancelled-orders" class="level3">
<h3 class="anchored" data-anchor-id="order-status-count-of-shipped-processing-delivered-and-cancelled-orders">Order status count of shipped, processing, delivered and cancelled orders</h3>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Order_Status_Distribution.png" title="Figure 17- Order Status Count" width="400" height="400" class="figure-img"></p>
<figcaption>Figure 17: Order Status Count</figcaption>
</figure>
</div>
<p></p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Upon completion of this project, valuable insights are gained regarding the challenges and methodologies associated with an e-commerce context, including the design of databases, analysis of data, and presentation of findings in a clear and impactful manner. Ultimately, this project serves as a reference for future e-commerce projects in particular and data-driven projects in general, providing valuable insight into the modern data management landscape.</p>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ol type="1">
<li>To be redirected to the project repository click <a href="https://github.com/abigail-g/E-commerceDB">here</a></li>
</ol>
</section>
<section id="appendices" class="level1">
<h1>Appendices</h1>
<section id="appendix-1" class="level2">
<h2 class="anchored" data-anchor-id="appendix-1">Appendix 1</h2>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/ChatGPT-GenerateDataPrompt1.png" title="A.1 - ChatGPT_1" width="400" height="400" class="figure-img"></p>
<figcaption>ChatGPT_1</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="appendix-2" class="level2">
<h2 class="anchored" data-anchor-id="appendix-2">Appendix 2</h2>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/ChatGPT-GenerateDataPrompt2.png" title="A.2 - ChatGPT_2" width="450" height="450" class="figure-img"></p>
<figcaption>ChatGPT_2</figcaption>
</figure>
</div>
<p></p>
</section>
<section id="appendix-3" class="level2">
<h2 class="anchored" data-anchor-id="appendix-3">Appendix 3</h2>
<p>
</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Data_Update.png" title="A.3 - Data Update" width="450" height="450" class="figure-img"></p>
<figcaption>Data Update</figcaption>
</figure>
</div>
<p></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>